{"version":3,"sources":["services/CommonTypes.ts","pages/Home.tsx","components/MovieTable.tsx","services/MovieService.ts","redux/actions/MovieActions.ts","pages/movie/MovieList.tsx","components/ImageUploader.tsx","components/MovieForm.tsx","pages/movie/AddMovie.tsx","pages/movie/EditMovie.tsx","pages/Layout.tsx","redux/reducers/MovieReducer.ts","redux/reducers/RootReducer.ts","redux/store.ts","App.tsx","index.tsx","assets/defaultPoster.png"],"names":["SwitchType","React","Component","this","props","onLoad","p","style","padding","width","marginBottom","display","value","condition","key","onChange","e","onKeyChange","target","onPressEnter","onSearch","type","size","marginRight","onClick","title","dataIndex","render","poster","className","src","alt","defaultPoster","filterDropdown","getFilterDropDown","bind","filterIcon","text","join","timeLong","isHot","record","checked","newVal","onSwitchChange","_id","isComing","isClassic","id","to","onConfirm","a","onDelete","message","success","okText","cancelText","danger","total","current","page","pageSize","limit","pagination","filters","dataSource","data","columns","getColumns","rowKey","getPageConfig","handleChange","loading","isLoading","MovieService","movie","axios","post","put","delete","get","params","saveMovieAction","movies","payload","setLoadingAction","setConditionAction","deleteAction","changeSwitchAction","fetchMovies","dispatch","getState","enhanceCondition","getMovies","deleteMovie","changeSwitch","edit","HOC","connect","state","MovieActions","newState","newPage","MovieTable","isModalSeen","uid","name","url","formData","FormData","append","filename","file","request","Request","action","method","body","fetch","then","response","json","error","accept","listType","fileList","getFileList","customRequest","handleUploadRequest","onRemove","onPreview","setState","getUploadContent","visible","footer","onCancel","formItemLayout","labelCol","span","wrapperCol","offset","AllAreas","label","AreaGroups","Checkbox","Group","AllTypes","TypeGroups","MovieForm","formRef","createRef","onFinish","values","onSubmit","result","history","push","console","log","setFieldsValue","ref","fields","areas","types","description","Item","rules","required","options","min","step","valuePropName","TextArea","htmlType","withRouter","add","undefined","getMovieById","match","Header","Layout","Sider","Content","_Layout","mode","theme","path","component","Home","exact","MovieList","AddMovie","EditMovie","defaultState","totalPage","saveMovie","Math","ceil","setCondition","setLoading","filter","find","newMovie","newData","map","rootReducer","combineReducers","store","createStore","applyMiddleware","thunk","logger","App","ReactDOM","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.9436fb6a.chunk.js","sourcesContent":["export interface IResponseError {\n  error: string\n  data: null\n}\n\nexport interface IResponseData<T> {\n  error: ''\n  data: T\n}\n\nexport interface IResponsePageData<T> {\n  error: ''\n  total: number\n  data: T[]\n}\n\nexport interface ISearchCondition {\n  page?: number\n  limit?: number\n  key?: string\n}\n\nexport enum SwitchType {\n  isHot = 'isHot',\n  isComing = 'isComing',\n  isClassic = 'isClassic'\n}\n","import React from 'react'\n\nexport default class extends React.Component {\n\n  render() {\n    return (\n      <div>\n        <h1>欢迎使用电影管理系统</h1>\n      </div>\n    )\n  }\n}","import React from 'react'\nimport { IMovieState } from '../redux/reducers/MovieReducer'\nimport { Button, Input, message, Popconfirm, Switch, Table } from 'antd'\nimport { ColumnProps } from 'antd/lib/table'\nimport { IMovie } from '../services/MovieService'\nimport defaultPoster from '../assets/defaultPoster.png'\nimport { SwitchType } from '../services/CommonTypes'\nimport { NavLink } from 'react-router-dom'\nimport { TablePaginationConfig } from 'antd/es/table'\nimport { PaginationConfig } from 'antd/es/pagination'\nimport { SearchOutlined } from '@ant-design/icons/lib'\n\nexport interface IMovieTableEvents {\n  /**\n   * 完成加载之后的事件\n   */\n  onLoad: () => void\n\n  onSwitchChange: (id: string, type: SwitchType, newState: boolean) => void\n\n  onDelete: (id: string) => Promise<void>\n\n  onChange: (newPage: number) => void\n\n  onKeyChange: (key: string) => void\n\n  onSearch: () => void\n}\n\n\nexport default class extends React.Component<IMovieState & IMovieTableEvents> {\n\n  componentDidMount() {\n    if (this.props.onLoad) {\n      this.props.onLoad()\n    }\n  }\n\n\n  private getFilterDropDown(p: Object) {\n    return (\n      <div style={ { padding: 8 } }>\n        <Input\n          style={ { width: 188, marginBottom: 8, display: 'block' } }\n          value={this.props.condition.key}\n          onChange={e => this.props.onKeyChange(e.target.value)}\n          onPressEnter={this.props.onSearch}\n        />\n        <Button\n          type='primary'\n          size='small'\n          style={ { width: 90, marginRight: 8 } }\n          onClick={this.props.onSearch}\n        >\n          搜索\n        </Button>\n        <Button\n          size='small'\n          style={ { width: 90 } }\n          onClick={() => {\n            this.props.onKeyChange('')\n            this.props.onSearch()\n          }}\n        >\n          重置\n        </Button>\n      </div>\n    )\n  }\n\n  private getColumns(): ColumnProps<IMovie>[] {\n    return [\n      {\n        title: '封面',\n        dataIndex: 'poster',\n        render: poster => {\n          if (poster) {\n            return <img className='tablePoster' src={ poster } alt='封面' />\n          } else {\n            return <img className='tablePoster' src={ defaultPoster } alt='暂无' />\n          }\n        }\n      },\n      {\n        title: '名称',\n        dataIndex: 'name',\n        filterDropdown: this.getFilterDropDown.bind(this),\n        filterIcon: <SearchOutlined />\n      },\n      {\n        title: '地区',\n        dataIndex: 'areas',\n        render(text: string[]) {\n          return text.join(', ')\n        }\n      },\n      {\n        title: '类型',\n        dataIndex: 'types',\n        render(text: string[]) {\n          return text.join(', ')\n        }\n      },\n      {\n        title: '时长',\n        dataIndex: 'timeLong',\n        render(timeLong: number) {\n          return timeLong + '分钟'\n        }\n      },\n      {\n        title: '正在热映',\n        dataIndex: 'isHot',\n        render: (isHot: boolean, record) => {\n          return <Switch checked={ isHot } onChange={ (newVal: boolean) => {\n            this.props.onSwitchChange(record._id as string, SwitchType.isHot, newVal)\n          } } />\n        }\n      },\n      {\n        title: '即将上映',\n        dataIndex: 'isComing',\n        render: (isComing: boolean, record) => {\n          return <Switch checked={ isComing } onChange={ (newVal: boolean) => {\n            this.props.onSwitchChange(record._id as string, SwitchType.isComing, newVal)\n          } } />\n        }\n      },\n      {\n        title: '经典影片',\n        dataIndex: 'isClassic',\n        render: (isClassic: boolean, record) => {\n          return <Switch checked={ isClassic } onChange={ (newVal: boolean) => {\n            this.props.onSwitchChange(record._id as string, SwitchType.isClassic, newVal)\n          } } />\n        }\n      },\n      {\n        title: '操作',\n        dataIndex: '_id',\n        render: (id) => {\n          return (\n            <div>\n              <NavLink to={ `/movie/edit/${ id }` }>\n                <Button type='primary'>编辑</Button>\n              </NavLink>\n              <Popconfirm\n                title=\"确定要删除吗？\"\n                onConfirm={ async () => {\n                  await this.props.onDelete(id)\n                  message.success('删除成功')\n                } }\n                okText='确定'\n                cancelText='取消'\n              >\n                <Button type='primary' danger>删除</Button>\n              </Popconfirm>\n            </div>\n          )\n        }\n      },\n    ]\n  }\n\n  getPageConfig(): TablePaginationConfig | false {\n    if (this.props.total === 0) return false\n    return {\n      current: this.props.condition.page,\n      pageSize: this.props.condition.limit,\n      total: this.props.total\n    }\n  }\n\n  handleChange(pagination: PaginationConfig, filters: any) {\n    this.props.onChange(pagination.current!)\n  }\n\n\n  render() {\n    return (\n      <Table\n        dataSource={ this.props.data }\n        columns={ this.getColumns() }\n        rowKey=\"_id\"\n        pagination={ this.getPageConfig() }\n        // @ts-ignore\n        onChange={ this.handleChange.bind(this) }\n        loading={ this.props.isLoading }\n      >\n\n      </Table>\n    )\n  }\n}","import axios from 'axios'\nimport { IResponseData, IResponseError, IResponsePageData, ISearchCondition } from './CommonTypes'\n\nexport interface IMovie {\n  _id?: string\n  name: string\n  types: string[]\n  areas: string[]\n  timeLong: number\n  isHot: boolean\n  isComing: boolean\n  isClassic: boolean\n  description?: string\n  poster?: string\n}\n\nexport class MovieService {\n  public static async add(movie: IMovie): Promise<IResponseData<IMovie> | IResponseError> {\n    const { data } = await axios.post('/api/movie', movie)\n    return data\n  }\n\n  // Partial<IMovie> 让IMovie里的属性变成全部可选\n  public static async edit(id: string, movie: Partial<IMovie>): Promise<IResponseData<true> | IResponseError> {\n    const { data } = await axios.put('/api/movie/' + id, movie)\n    return data\n  }\n\n  public static async delete(id: string): Promise<IResponseData<true> | IResponseError> {\n    const { data } = await axios.delete('/api/movie/' + id)\n    return data\n  }\n\n  public static async getMovieById(id: string): Promise<IResponseData<IMovie> | null> {\n    const { data } = await axios.get('/api/movie/' + id)\n    return data\n  }\n\n  public static async getMovies(condition: ISearchCondition): Promise<IResponsePageData<IMovie>> {\n    const { data } = await axios.get('/api/movie', {\n      params: condition\n    })\n    return data\n  }\n}","import { IMovie, MovieService } from '../../services/MovieService'\nimport { IAction } from './ActionTypes'\nimport { ISearchCondition, SwitchType } from '../../services/CommonTypes'\nimport { IRootState } from '../reducers/RootReducer'\nimport { ThunkAction } from 'redux-thunk'\n\n/**\n * 保存电影的action的类型注解\n */\nexport type SaveMoviesAction = IAction<'movie_save', {\n  movies: IMovie[]\n  total: number\n}>\n\n/**\n * 保存电影的action的创建函数\n * @param movies\n * @param total\n */\nconst saveMovieAction = (movies: IMovie[], total: number): SaveMoviesAction => ({\n  type: 'movie_save',\n  payload: {\n    movies,\n    total\n  }\n})\n\n/**\n * 设置Loading状态的action的类型注解\n */\nexport type SetLoadingAction = IAction<'movie_setLoading', boolean>\n\n/**\n * 设置Loading状态的action的创建函数\n * @param isLoading\n */\nconst setLoadingAction = (isLoading: boolean): SetLoadingAction => ({\n  type: 'movie_setLoading',\n  payload: isLoading\n})\n\n/**\n * 设置电影查询条件的action的类型注解\n */\nexport type SetConditionAction = IAction<'movie_setCondition', ISearchCondition>\n\n/**\n * 设置查询电影条件的action的创建函数\n * @param condition\n */\nconst setConditionAction = (condition: ISearchCondition): SetConditionAction => ({\n  type: 'movie_setCondition',\n  payload: condition\n})\n\n/**\n * 删除电影的action的类型注解\n */\nexport type DeleteAction = IAction<'movie_delete', string>\n\n/**\n * 创建删除电影的action的创建函数\n * @param id\n */\nconst deleteAction = (id: string): DeleteAction => ({\n  type: 'movie_delete',\n  payload: id\n})\n\nexport type MovieChangeSwitchAction = IAction<'movie_switch', {\n  type: SwitchType,\n  newVal: boolean,\n  id: string\n}>\n\nfunction changeSwitchAction(id: string, type: SwitchType, newVal: boolean): MovieChangeSwitchAction {\n  return {\n    type: 'movie_switch',\n    payload: {\n      id,\n      type,\n      newVal\n    }\n  }\n}\n\nfunction changeSwitch(id: string, type: SwitchType, newVal: boolean): ThunkAction<Promise<void>, IRootState, any, MovieAction> {\n  return async dispatch => {\n    dispatch(changeSwitchAction(id, type, newVal))\n    await MovieService.edit(id, {\n      [type]: newVal\n    })\n  }\n}\n\n// 所有的Action情况\nexport type MovieAction = SaveMoviesAction | SetLoadingAction | SetConditionAction | DeleteAction | MovieChangeSwitchAction\n\n// 根据条件从服务器获取电影，注：这里的ThunkAction过于绕，不理解可用any替代\nfunction fetchMovies(condition: ISearchCondition): ThunkAction<Promise<void>, IRootState, any, MovieAction> {\n  return async (dispatch, getState) => {\n    // 1. 设置加载状态\n    dispatch(setLoadingAction(true))\n    // 2. 设置条件\n    dispatch(setConditionAction(condition))\n    // 3. 获取服务器数据\n    const enhanceCondition = getState().movie.condition\n    const data = await MovieService.getMovies(enhanceCondition)\n    // 4. 更改仓库的数据\n    dispatch(saveMovieAction(data.data, data.total))\n    // 5. 关闭加载状态\n    dispatch(setLoadingAction(false))\n  }\n}\n\nfunction deleteMovie(id: string): ThunkAction<Promise<void>, IRootState, any, MovieAction> {\n  return async dispatch => {\n    dispatch(setLoadingAction(true))\n    // 删除数据库中的数据\n    await MovieService.delete(id)\n    // 删除本地仓库中的数据\n    dispatch(deleteAction(id))\n    dispatch(setLoadingAction(false))\n  }\n}\n\n\nexport default {\n  saveMovieAction,\n  setLoadingAction,\n  setConditionAction,\n  deleteAction,\n  fetchMovies,\n  deleteMovie,\n  changeSwitch\n}","import { Dispatch } from 'react'\nimport MovieTable, { IMovieTableEvents } from '../../components/MovieTable'\nimport { connect } from 'react-redux'\nimport { IRootState } from '../../redux/reducers/RootReducer'\nimport MovieActions from '../../redux/actions/MovieActions'\nimport { IMovieState } from '../../redux/reducers/MovieReducer'\n\nconst mapStateToProps = (state: IRootState): IMovieState => {\n  return state.movie\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch<any>): IMovieTableEvents => {\n  return {\n    onLoad() {\n      dispatch(MovieActions.fetchMovies({\n        page: 1,\n        limit: 10,\n        key: ''\n      }))\n    },\n    onSwitchChange(id, type, newState) {\n      dispatch(MovieActions.changeSwitch(id, type, newState))\n    },\n    async onDelete(id: string) {\n      await dispatch(MovieActions.deleteMovie(id))\n    },\n    onChange(newPage: number) {\n      dispatch(MovieActions.fetchMovies({\n        page: newPage\n      }))\n    },\n    onKeyChange(key: string) {\n      dispatch(MovieActions.setConditionAction({\n        key\n      }))\n    },\n    onSearch() {\n      // 搜索时回到第一页\n      dispatch(MovieActions.fetchMovies({\n        page: 1\n      }))\n    }\n  }\n}\n\nconst HOC = connect(mapStateToProps, mapDispatchToProps)\n\nexport default HOC(MovieTable)\n\n// 仓库里面有数据，但没有界面\n\n// MovieTable组件有界面，但是没有数据\n\n// react-redux","import React from 'react'\nimport { message, Modal, Upload } from 'antd'\nimport { PlusOutlined } from '@ant-design/icons/lib'\nimport { UploadFile } from 'antd/es/upload/interface'\nimport { IResponseData, IResponseError } from '../services/CommonTypes'\n\ninterface IImageUploaderProps {\n  /**\n   * value is url string\n   */\n  value?: string\n  onChange?: (value: string) => void\n}\n\ninterface IImageUploadState {\n  isModalSeen: boolean\n}\n\nexport default class extends React.Component<IImageUploaderProps, IImageUploadState> {\n\n  state: IImageUploadState = {\n    isModalSeen: false\n  }\n\n  private getUploadContent() {\n    if (this.props.value) return null\n    return (\n      <div>\n        <PlusOutlined />\n        <div>\n          点击上传\n        </div>\n      </div>\n    )\n  }\n\n  private getFileList(): UploadFile[] {\n    if (this.props.value) {\n      return [\n        {\n          uid: this.props.value,\n          name: this.props.value,\n          url: this.props.value\n        }\n      ]\n    }\n    return []\n  }\n\n  async handleUploadRequest(p: any) {\n    let formData = new FormData()\n    formData.append(p.filename, p.file)\n    const request = new Request(p.action, {\n      method: 'post',\n      body: formData\n    })\n    const response: IResponseData<string> | IResponseError = await fetch(request).then(response => response.json())\n    if (response.error) {\n      message.error('上传失败！')\n    } else {\n      if (this.props.onChange) {\n        this.props.onChange(response.data!)\n      }\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <Upload\n          action='/api/upload'\n          name='imageFile'\n          accept='.jpg, .png, .gif'\n          listType='picture-card'\n          // @ts-ignore\n          fileList={this.getFileList()}\n          customRequest={this.handleUploadRequest.bind(this)}\n          onRemove={() => {\n            this.props.onChange && this.props.onChange('')\n          }}\n          onPreview={() => {\n            this.setState({isModalSeen: true})\n          }}\n        >\n          { this.getUploadContent() }\n        </Upload>\n        <Modal\n          visible={this.state.isModalSeen}\n          footer={null}\n          onCancel={() => this.setState({isModalSeen: false})}\n        >\n          <img alt=\"example\" style={{ width: '100%' }} src={this.props.value} />\n        </Modal>\n      </div>\n    )\n  }\n}","import React from 'react'\nimport { Button, Checkbox, Form, Input, InputNumber, message, Switch } from 'antd'\nimport { FormInstance } from 'antd/lib/form'\nimport ImageUploader from './ImageUploader'\nimport { IMovie } from '../services/MovieService'\nimport { RouteComponentProps, withRouter } from 'react-router'\n\nconst formItemLayout = {\n  labelCol: {\n    span: 4\n  },\n  wrapperCol: {\n    span: 19,\n    offset: 1\n  }\n}\n\nconst AllAreas: { label: string, value: string }[] = [\n  { label: '中国大陆', value: '中国大陆' },\n  { label: '美国', value: '美国' },\n  { label: '中国台湾', value: '中国台湾' },\n  { label: '中国香港', value: '中国香港' }\n]\n\nconst AreaGroups = Checkbox.Group\n\nconst AllTypes: { label: string, value: string }[] = [\n  { label: '喜剧', value: '喜剧' },\n  { label: '动作', value: '动作' },\n  { label: '爱情', value: '爱情' },\n  { label: '剧情', value: '剧情' }\n]\n\nconst TypeGroups = Checkbox.Group\n\ninterface IFormProp extends RouteComponentProps<any> {\n  // string is Error Message\n  onSubmit: (movie: IMovie) => Promise<string>\n  movie?: IMovie\n}\n\nclass MovieForm extends React.Component<IFormProp, any> {\n\n  formRef = React.createRef<FormInstance>()\n\n  state = {\n    url: '',\n    isHot: false,\n    isClassic: false,\n    isComing: false\n  }\n\n  constructor(props: any) {\n    super(props)\n    console.log(this.props.movie)\n  }\n\n  componentDidMount() {\n    console.log(this.props.movie)\n  }\n\n  private onFinish = async (values: object) => {\n    const result = await this.props.onSubmit(values as IMovie)\n    if (result) {\n      message.error(result)\n    } else {\n      message.success('添加成功', 1, () => {\n        // 跳转页面\n        this.props.history.push('/movie')\n      })\n    }\n  }\n\n  private onUploadPoster(value: string) {\n    this.formRef.current!.setFieldsValue({\n      poster: value\n    })\n    this.setState({ url: value })\n  }\n\n  private onSwitchChange(type: 'isHot' | 'isClassic' | 'isComing', value: boolean) {\n    this.formRef.current!.setFieldsValue({\n      [type]: value\n    })\n    this.setState({ [type]: value })\n  }\n\n  render() {\n    return (\n      <Form\n        { ...formItemLayout }\n        style={ { width: '700px' } }\n        ref={ this.formRef }\n        onFinish={ this.onFinish.bind(this) }\n        fields={\n          [\n            { name: 'name', value: this.props.movie?.name },\n            {name: 'poster', value: this.props.movie?.poster},\n            { name: 'areas', value: this.props.movie?.areas },\n            { name: 'types', value: this.props.movie?.types },\n            { name: 'timeLong', value: this.props.movie?.timeLong },\n            {name: 'isHot', value: this.props.movie?.isHot},\n            {name: 'isComing', value: this.props.movie?.isComing},\n            {name: 'isClassic', value: this.props.movie?.isClassic},\n            { name: 'description', value: this.props.movie?.description },\n          ]\n        }\n      >\n        <Form.Item\n          label='电影名称'\n          name='name'\n          rules={ [{ required: true, message: '请填写电影名称' }] }\n        >\n          <Input />\n        </Form.Item>\n        <Form.Item\n          label='封面图'\n          name='poster'\n        >\n          <ImageUploader />\n        </Form.Item>\n        <Form.Item\n          label='上映地区'\n          name='areas'\n          rules={ [{ required: true, message: '请选择地区' }] }\n        >\n          <AreaGroups options={ AllAreas } />\n        </Form.Item>\n        <Form.Item\n          label='类型'\n          name='types'\n          rules={ [{ required: true, message: '请选择类型' }] }\n\n        >\n          <TypeGroups options={ AllTypes } />\n        </Form.Item>\n        <Form.Item\n          label='时长(分钟)'\n          name='timeLong'\n          rules={ [{ required: true, message: '请填写时长' }] }\n        >\n          <InputNumber min={ 1 } step={ 10 } />\n        </Form.Item>\n        <Form.Item\n          label='正在热映'\n          name='isHot'\n          valuePropName='checked'\n        >\n          <Switch />\n        </Form.Item>\n        <Form.Item\n          label='即将上映'\n          name='isComing'\n          valuePropName='checked'\n        >\n          <Switch />\n        </Form.Item>\n        <Form.Item\n          label='经典影片'\n          name='isClassic'\n          valuePropName='checked'\n        >\n          <Switch />\n        </Form.Item>\n        <Form.Item\n          label='描述'\n          name='description'\n        >\n          <Input.TextArea />\n        </Form.Item>\n        <Form.Item\n          labelCol={ { span: 0 } }\n          wrapperCol={ { span: 19, offset: 5 } }\n        >\n          <Button type='primary' htmlType='submit'>提交</Button>\n        </Form.Item>\n      </Form>\n    )\n  }\n}\n\n\nexport default withRouter(MovieForm)\n\n\n","import React from 'react'\nimport MovieForm from '../../components/MovieForm'\nimport { MovieService } from '../../services/MovieService'\n\nexport default class extends React.Component {\n  render() {\n    return (\n      <MovieForm onSubmit={async movie => {\n        const result = await MovieService.add(movie)\n        if (result.data) {\n          return ''\n        } else {\n          return result.error\n        }\n      }} />\n    )\n  }\n}","import React from 'react'\nimport { RouteComponentProps } from 'react-router'\nimport MovieForm from '../../components/MovieForm'\nimport { IMovie, MovieService } from '../../services/MovieService'\n\ninterface IParams {\n  id: string\n}\n\ninterface EditPageState {\n  movie?: IMovie\n}\n\nexport default class extends React.Component<RouteComponentProps<IParams>, EditPageState> {\n\n  state: EditPageState = {\n    movie: undefined\n  }\n\n  async componentDidMount() {\n    const result = await MovieService.getMovieById(this.props.match.params.id)\n    if (result) {\n      this.setState({\n        movie: result.data\n      })\n    }\n  }\n\n  render() {\n    return (\n      <MovieForm\n        movie={this.state.movie}\n        onSubmit={ async movie => {\n          const result = await MovieService.edit(this.props.match.params.id, movie)\n          if (result.data) {\n            return ''\n          } else {\n            return result.error\n          }\n        } }\n      />\n    )\n  }\n}","import React from 'react'\nimport { NavLink, Route } from 'react-router-dom'\nimport Home from './Home'\nimport MovieList from './movie/MovieList'\nimport AddMovie from './movie/AddMovie'\nimport EditMovie from './movie/EditMovie'\nimport { Layout, Menu } from 'antd'\n\nconst { Header, Sider, Content } = Layout\n\nconst _Layout: React.FC = () => {\n  return (\n    <div className='container'>\n        <Layout>\n          <Header className='header'>\n            <NavLink to='/'>猫眼电影管理系统</NavLink>\n          </Header>\n          <Layout>\n            <Sider>\n              <Menu\n                mode=\"inline\"\n                theme=\"dark\"\n              >\n                <Menu.Item key=\"1\" >\n                  <NavLink to='/movie'>电影列表</NavLink>\n                </Menu.Item>\n                <Menu.Item key=\"2\" >\n                  <NavLink to='/movie/add'>添加电影</NavLink>\n                </Menu.Item>\n              </Menu>\n            </Sider>\n            <Content>\n              <div className='main'>\n                <Route path='/' component={ Home } exact />\n                <Route path='/movie' component={ MovieList } exact />\n                <Route path='/movie/add' component={ AddMovie } exact />\n                <Route path='/movie/edit/:id' component={ EditMovie } exact />\n              </div>\n            </Content>\n          </Layout>\n        </Layout>\n    </div>\n  )\n}\n\nexport default _Layout","// 描述电影列表的状态类型\n\nimport { IMovie } from '../../services/MovieService'\nimport { ISearchCondition } from '../../services/CommonTypes'\nimport {\n  DeleteAction,\n  MovieAction, MovieChangeSwitchAction,\n  SaveMoviesAction,\n  SetConditionAction,\n  SetLoadingAction\n} from '../actions/MovieActions'\nimport { Reducer } from 'react'\n\n// 让ISearchCondition接口里的类型都变为必填的\nexport type IMovieCondition = Required<ISearchCondition>\n\nexport interface IMovieState {\n  /**\n   * 电影数组\n   */\n  data: IMovie[]\n  /**\n   * 查询条件\n   */\n  condition: IMovieCondition\n  /**\n   * 总记录数\n   */\n  total: number\n  /**\n   * 是否正在加载数据\n   */\n  isLoading: boolean\n\n  /**\n   * 总页数\n   */\n  totalPage: number\n}\n\nconst defaultState: IMovieState = {\n  data: [],\n  condition: {\n    page: 1,\n    limit: 10,\n    key: ''\n  },\n  total: 0,\n  isLoading: false,\n  totalPage: 0\n}\n\ntype MovieReducer<A> = Reducer<IMovieState, A>\n\nconst saveMovie: MovieReducer<SaveMoviesAction> = (state, action) => ({\n  ...state,\n  data: action.payload.movies,\n  total: action.payload.total,\n  totalPage: Math.ceil(action.payload.total / state.condition.limit)\n})\n\nconst setCondition: MovieReducer<SetConditionAction> = (state, action) => {\n  const newState = {\n    ...state,\n    condition: {\n      ...state.condition,\n      ...action.payload\n    }\n  }\n  newState.totalPage = Math.ceil(newState.total / newState.condition.limit)\n  return newState\n}\n\nconst setLoading: MovieReducer<SetLoadingAction> = (state, action) => ({\n  ...state,\n  isLoading: action.payload\n})\n\nconst deleteMovie: MovieReducer<DeleteAction> = (state, action) => ({\n  ...state,\n  data: state.data.filter(movie => movie._id !== action.payload),\n  total: state.total - 1,\n  totalPage: Math.ceil((state.total - 1) / state.condition.limit)\n})\n\nconst changeSwitch: MovieReducer<MovieChangeSwitchAction> = (state, action) => {\n\n  // 1. 根据id找对象\n  const movie = state.data.find(movie => movie._id === action.payload.id)\n  if (!movie) return state\n  // 2. 将找到的对象克隆一份\n  const newMovie = { ...movie }\n  // 3. 设置这个新对象的isHot | isComing | isClassic\n  newMovie[action.payload.type] = action.payload.newVal\n  // 4. 将这个新对象重新放入数组，覆盖掉原来的对象\n  const newData = state.data.map(movie => {\n    if (movie._id === action.payload.id) {\n      return newMovie\n    }\n    return movie\n  })\n  return {\n    ...state,\n    data: newData\n  }\n}\n\nexport default (state: IMovieState = defaultState, action: MovieAction): IMovieState => {\n  switch (action.type) {\n    case 'movie_save':\n      return saveMovie(state, action)\n    case 'movie_setLoading':\n      return setLoading(state, action)\n    case 'movie_setCondition':\n      return setCondition(state, action)\n    case 'movie_delete':\n      return deleteMovie(state, action)\n    case 'movie_switch':\n      return changeSwitch(state, action)\n    default:\n      return state\n  }\n}","import { combineReducers } from 'redux'\nimport movie, { IMovieState } from './MovieReducer'\n\n/**\n * 整个网站的根状态\n */\nexport interface IRootState {\n  movie: IMovieState\n}\n\nexport const rootReducer = combineReducers({\n  movie\n})","import { applyMiddleware, createStore } from 'redux'\nimport { IRootState, rootReducer } from './reducers/RootReducer'\nimport logger from 'redux-logger'\nimport thunk, {ThunkMiddleware} from 'redux-thunk'\n\nexport const store = createStore(rootReducer,\n  // ThunkMiddleware<IRootState> 有点绕，这样写仅仅为了dispatch时能获得类型检查\n  applyMiddleware(thunk as ThunkMiddleware<IRootState>, logger)\n)","import React from 'react'\nimport Layout from './pages/Layout'\nimport { BrowserRouter, Route } from 'react-router-dom'\nimport { Provider } from 'react-redux'\nimport { store } from './redux/store'\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <BrowserRouter>\n        <Route path='/' component={Layout} />\n      </BrowserRouter>\n    </Provider>\n\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport 'antd/dist/antd.css'\nimport App from './App'\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}